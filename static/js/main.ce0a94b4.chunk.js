(this.webpackJsonpchat_react=this.webpackJsonpchat_react||[]).push([[0],{29:function(e,a,t){e.exports=t(58)},34:function(e,a,t){},35:function(e,a,t){},47:function(e,a,t){},58:function(e,a,t){"use strict";t.r(a);var c=t(0),n=t.n(c),r=t(25),s=t.n(r),l=(t(34),t(8)),m=t(2);t(35);var o=function(e){var a=e.id,t=e.name;return n.a.createElement(l.b,{to:a,className:"contact-user",activeClassName:"active"},n.a.createElement("div",{className:"contact-user-foto"},n.a.createElement("img",{src:"",alt:""})),n.a.createElement("div",{className:"contact-user-info"},n.a.createElement("div",{className:"contact-user-top"},n.a.createElement("span",{className:"contact-user-name"},t))))},i=[{id:"1",name:"john_snow"},{id:"2",name:"martin"},{id:"3",name:"sherlock"},{id:"4",name:"monica"},{id:"5",name:"dallas"}];var d=function(){return n.a.createElement("div",{className:"contacts-wrap"},n.a.createElement("div",{className:"contact"},i.map((function(e){return n.a.createElement(o,Object.assign({key:e.id},e))}))))},u=t(11),h=t(12),v=t(9),p=t.n(v);t(43);p.a.initializeApp({apiKey:"AIzaSyA50KYAzwYXz_Wt8InNc2E_CDyqYgvbDxc",authDomain:"chat-react-app-d65ec.firebaseapp.com",databaseURL:"https://chat-react-app-d65ec.firebaseio.com",projectId:"chat-react-app-d65ec",storageBucket:"chat-react-app-d65ec.appspot.com",messagingSenderId:"237513838734",appId:"1:237513838734:web:3882d07737a5e16d8639df"});var E=p.a.firestore();var f=function(){var e={content:""},a=Object(c.useState)(e),t=Object(h.a)(a,2),r=t[0],s=t[1],l=Object(m.f)().id;return n.a.createElement("div",{className:"chat-form"},n.a.createElement("form",null,n.a.createElement("div",{className:"textarea-wrap"},n.a.createElement("textarea",{onKeyDown:function(a){if(13===a.keyCode&&!1===a.shiftKey&&(a.preventDefault(),r.content.length)){var t=p.a.firestore.FieldValue.serverTimestamp();E.collection("messages").doc().set(Object(u.a)(Object(u.a)({},r),{},{chatId:l,sender:"user",createdAt:t})).then((function(){return s(e)}))}},onChange:function(e){var a=e.target;s({content:a.value})},value:r.content,name:"message",placeholder:"Text"})),n.a.createElement("div",{className:"textarea-count-wrap"},n.a.createElement("div",{className:"checkbox-wrap"},n.a.createElement("label",null,"Press Enter to send")))))},N=t(65);var g=function(e){var a=e.content,t=e.sender,c=e.createdAt;return n.a.createElement("div",{className:"user"===t?"chat-message user-message":"chat-message"},n.a.createElement("div",{className:"chat-message-foto"},n.a.createElement("img",{src:"",alt:""})),n.a.createElement("div",{className:"chat-message-text"},a),n.a.createElement("div",{className:"chat-message-time"},c?n.a.createElement(N.a,{date:c.toDate()}):"..."))};t(47);var b=function(e){var a=e.match,t=Object(c.useState)(null),r=Object(h.a)(t,2),s=r[0],l=r[1];return Object(c.useEffect)((function(){var e=E.collection("messages").where("chatId","==",a.params.id).orderBy("createdAt","desc").onSnapshot((function(e){var a=[];e.forEach((function(e){return a.push(Object(u.a)({id:e.id},e.data()))})),l(a)}));return function(){e()}}),[a.params.id]),n.a.createElement("div",{className:"chat-block"},n.a.createElement("div",{className:"chat"},s?s.length?s.reverse().map((function(e){return n.a.createElement(g,Object.assign({key:e.id},e))})):n.a.createElement("div",{className:"chat-empty"},n.a.createElement("p",null,"There's no messages yet")):n.a.createElement("div",{className:"chat-empty"},n.a.createElement("p",null,"Loading..."))),n.a.createElement(f,null))};var w=function(){return n.a.createElement(l.a,null,n.a.createElement("div",{className:"chat-wrap"},n.a.createElement(d,null),n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/",exact:!0},n.a.createElement("div",{className:"chat-block"},n.a.createElement("div",{className:"chat chat-placeholder"},n.a.createElement("p",null,"Chat is not selected")))),n.a.createElement(m.a,{path:"/:id",component:b}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=t(64),j=t(28),k=t.n(j);y.a.locale(k.a),s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement("main",{className:"main"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-9"},n.a.createElement(w,null)),n.a.createElement("div",{className:"col-3"}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.ce0a94b4.chunk.js.map